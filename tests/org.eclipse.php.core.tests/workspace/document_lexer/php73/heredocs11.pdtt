--TEST--
Bug 551434 - false syntax error for Heredoc/Nowdoc expressions
--FILE--
<?php
class heredocDemo {
    
    const EXAMPLE_1 = <<< HEREDOC
Example string literal #1

-
HEREDOC;
    
    const EXAMPLE_2 = <<< HEREDOC
Example string literal #2

-
HEREDOC;
    
    const EXAMPLE_3 = <<< HEREDOC
Example string literal #3

=
HEREDOC;
    
    const EXAMPLE_4 = <<< HEREDOC
Example string literal #4

-
HEREDOC;
    
    const EXAMPLE_5 = <<< "HEREDOC"
Example string literal #5

-
HEREDOC;
    
    const EXAMPLE_6 = <<< 'NOWDOC'
Example string literal #6
    
-
NOWDOC;
    
    const EXAMPLE_7 = <<< HEREDOC
Example string literal #7
Another line with some content
Yet another line with some content
Another
    
-
HEREDOC;
    
    const EXAMPLE_8 = <<< HEREDOC
Example string literal #8

- Content after the special char
HEREDOC;
    
    public $example9 = <<< HEREDOC
Example string literal #9

-
HEREDOC;
    
    public function __construct() {
        
        $example10 = <<< HEREDOC
Example string literal #10

-
HEREDOC;
        
        var_dump(
            <<< HEREDOC
Example string literal #11
            
-
HEREDOC
            );
        
        <<< HEREDOC
Example string literal

-
HEREDOC  && 1;
    }
}
?>
--EXPECT--
PHP_TOKEN|<|2
PHP_TOKEN|?|2
PHP_LABEL|php|2
WHITESPACE|
|2
PHP_CLASS|class|2
WHITESPACE| |2
PHP_LABEL|heredocDemo|2
WHITESPACE| |2
PHP_CURLY_OPEN|{
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_1|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #1
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_2|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #2
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_3|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #3
=|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_4|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #4
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_5|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< "HEREDOC"
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #5
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_6|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_NOWDOC_START_TAG|<<< 'NOWDOC'
|18
PHP_CONSTANT_ENCAPSED_STRING|Example|18
PHP_CONSTANT_ENCAPSED_STRING| string|18
PHP_CONSTANT_ENCAPSED_STRING| literal|18
PHP_CONSTANT_ENCAPSED_STRING| #6
    
-|34
PHP_NOWDOC_CLOSE_TAG|
NOWDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_7|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #7
Another|12
PHP_ENCAPSED_AND_WHITESPACE| line with some content
Yet|12
PHP_ENCAPSED_AND_WHITESPACE| another line with some content
Another|12
PHP_ENCAPSED_AND_WHITESPACE|
    
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_CONST|const|36
WHITESPACE| |36
PHP_LABEL|EXAMPLE_8|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #8
- Content after the special char|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_PUBLIC|public|2
WHITESPACE| |2
PHP_VARIABLE|$example9|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #9
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
    
    |2
PHP_PUBLIC|public|2
WHITESPACE| |2
PHP_FUNCTION|function|36
WHITESPACE| |36
PHP_LABEL|__construct|2
PHP_TOKEN|(|2
PHP_TOKEN|)|2
WHITESPACE| |2
PHP_CURLY_OPEN|{
        
        |2
PHP_VARIABLE|$example10|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #10
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
PHP_SEMICOLON|;|2
WHITESPACE|
        
        |2
PHP_LABEL|var_dump|2
PHP_TOKEN|(|2
WHITESPACE|
            |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE| #11
            
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
WHITESPACE|
            |2
PHP_TOKEN|)|2
PHP_SEMICOLON|;|2
WHITESPACE|
        
        |2
PHP_HEREDOC_START_TAG|<<< HEREDOC
|16
PHP_ENCAPSED_AND_WHITESPACE|Example|16
PHP_ENCAPSED_AND_WHITESPACE| string|16
PHP_ENCAPSED_AND_WHITESPACE| literal|16
PHP_ENCAPSED_AND_WHITESPACE|
-|20
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|2
WHITESPACE|  |2
PHP_OPERATOR|&&|2
WHITESPACE| |2
PHP_NUMBER|1|2
PHP_SEMICOLON|;|2
WHITESPACE|
    |2
PHP_CURLY_CLOSE|}
|2
PHP_CURLY_CLOSE|}
|2
PHP_CLOSETAG|?>|2
